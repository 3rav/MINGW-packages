diff -Naur a/src/liolib.c b/src/liolib.c
--- a/src/liolib.c	2020-09-14 12:34:00.000000000 -0300
+++ b/src/liolib.c	2024-06-27 15:13:19.827728809 -0300
@@ -103,7 +103,7 @@
 
 #if !defined(l_fseek)		/* { */
 
-#if defined(LUA_USE_POSIX)	/* { */
+#if defined(__MINGW32__) || defined(LUA_USE_POSIX)	/* { */
 
 #include <sys/types.h>
 
