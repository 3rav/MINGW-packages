--- a/config/cmake/HDF5UseFortran.cmake
+++ b/config/cmake/HDF5UseFortran.cmake
@@ -109,9 +109,10 @@
 
 READ_SOURCE("PROGRAM PROG_FC_ISO_FORTRAN_ENV" "END PROGRAM PROG_FC_ISO_FORTRAN_ENV" SOURCE_CODE)
 check_fortran_source_compiles (${SOURCE_CODE} HAVE_ISO_FORTRAN_ENV SRC_EXT f90)
-if (${HAVE_ISO_FORTRAN_ENV})
+if (${HAVE_ISO_FORTRAN_ENV} AND NOT ${CMAKE_Fortran_COMPILER_ID} STREQUAL LLVMFlang)
   set (${HDF_PREFIX}_HAVE_ISO_FORTRAN_ENV 1)
 else ()
+  set(HAVE_ISO_FORTRAN_ENV 0)
   set (${HDF_PREFIX}_HAVE_ISO_FORTRAN_ENV 0)
 endif()
 
