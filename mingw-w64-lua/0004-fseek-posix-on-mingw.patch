diff -Naur a/src/liolib.c b/src/liolib.c
--- a/src/liolib.c	2024-06-13 19:15:09.000000000 -0300
+++ b/src/liolib.c	2024-06-27 14:17:25.906754600 -0300
@@ -115,7 +115,7 @@
 
 #if !defined(l_fseek)		/* { */
 
-#if defined(LUA_USE_POSIX)	/* { */
+#if defined(__MINGW32__) || defined(LUA_USE_POSIX)	/* { */
 
 #include <sys/types.h>
 
